<div class="account-content">
  <div class="login-wrapper register-wrap bg-img">
    <div class="login-content">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="login-userset">

          <!-- ─── Logos ─────────────────────────────────────────────────────────── -->
          <div class="login-logo logo-normal">
            <img src="assets/img/logo.png" alt="img" />
          </div>
          <a [routerLink]="routes.adminDashboard" class="login-logo logo-white">
            <img src="assets/img/logo-white.png" alt="" />
          </a>

          <!-- ─── Headings ──────────────────────────────────────────────────────── -->
          <div class="login-userheading">
            <h3>{{ 'register.title' | translate }}</h3>
            <h4>{{ 'register.text' | translate }}</h4>
          </div>

          <!-- ─── USERNAME ──────────────────────────────────────────────────────── -->
          <div class="form-login">
            <label>{{ 'register.username.label' | translate }}</label>
            <div class="form-addons">
              <input
                class="form-control"
                type="text"
                formControlName="username"
                [class.is-invalid]="invalid('username')"
                [class.is-valid]="valid('username')"
              />
              <img src="assets/img/icons/user-icon.svg" alt="img" />
              <div class="text-danger">
                @if (isRequiredError('username')) {
                  <span>{{ 'register.username.required' | translate }}</span>
                } @else if (isMinLengthError('username')) {
                  <span>{{ 'register.username.minLength' | translate }}</span>
                }
              </div>
            </div>
          </div>

          <!-- ─── COMPANY NAME ──────────────────────────────────────────────────── -->
          <div class="form-login">
            <label>{{ 'register.company.label' | translate }}</label>
            <div class="form-addons">
              <input
                class="form-control"
                type="text"
                formControlName="company_name"
                [class.is-invalid]="invalid('company_name')"
                [class.is-valid]="valid('company_name')"
              />
              <div class="text-danger">
                @if (isRequiredError('company_name')) {
                  <span>{{ 'register.company.required' | translate }}</span>
                } @else if (isMinLengthError('company_name')) {
                  <span>{{ 'register.company.minLength' | translate }}</span>
                }
              </div>
            </div>
          </div>

          <!-- ─── COMPANY SUBDOMAIN ─────────────────────────────────────────────── -->
          <div class="form-login">
            <label>{{ 'register.subdomain.label' | translate }}</label>
            <div class="form-addons">
              <input
                class="form-control"
                type="text"
                formControlName="company_subdomain"
                [class.is-invalid]="invalid('company_subdomain')"
                [class.is-valid]="valid('company_subdomain')"
              />
              <div class="text-danger">
                @if (isRequiredError('company_subdomain')) {
                  <span>{{ 'register.subdomain.required' | translate }}</span>
                } @else if (isMinLengthError('company_subdomain')) {
                  <span>{{ 'register.subdomain.minLength' | translate }}</span>
                } @else if (invalid('company_subdomain')) {
                  <span>{{ 'register.subdomain.invalid' | translate }}</span>
                }
              </div>
            </div>
          </div>

          <!-- ─── EMAIL ─────────────────────────────────────────────────────────── -->
          <div class="form-login">
            <label>{{ 'register.email.label' | translate }}</label>
            <div class="form-addons">
              <input
                class="form-control"
                type="email"
                formControlName="email"
                [class.is-invalid]="invalid('email')"
                [class.is-valid]="valid('email')"
              />
              <img src="assets/img/icons/mail.svg" alt="img" />
              <div class="text-danger">
                @if (isRequiredError('email')) {
                  <span>{{ 'register.email.required' | translate }}</span>
                } @else if (invalid('email')) {
                  <span>{{ 'register.email.invalid' | translate }}</span>
                }
              </div>
            </div>
          </div>

          <!-- ─── PASSWORD ──────────────────────────────────────────────────────── -->
          <div class="form-login">
            <label>{{ 'register.password.label' | translate }}</label>
            <div class="pass-group">
              <input
                class="pass-input"
                [type]="show.confirm ? 'text' : 'password'"
                formControlName="password"
                [class.is-invalid]="invalid('password')"
                [class.is-valid]="valid('password')"
              />
              <span
                class="fas toggle-password"
                [ngClass]="show.confirm ? 'fa-eye' : 'fa-eye-slash'"
                (click)="togglePassword('confirm')"
              ></span>
              <div class="text-danger">
                @if (isRequiredError('password')) {
                  <span>{{ 'register.password.required' | translate }}</span>
                } @else if (isMinLengthError('password')) {
                  <span>{{ 'register.password.minLength' | translate }}</span>
                }
              </div>
            </div>
          </div>

          <!-- ─── CONFIRM PASSWORD ──────────────────────────────────────────────── -->
          <div class="form-login">
            <label>{{ 'register.password.confirmLabel' | translate }}</label>
            <div class="pass-group">
              <input
                class="pass-input"
                [type]="show.confirm ? 'text' : 'password'"
                formControlName="password_confirmation"
                [class.is-invalid]="
                  invalid('password_confirmation') || registerForm.errors?.['passwordMismatch']
                "
                [class.is-valid]="valid('password_confirmation')"
              />
              <span
                class="fas toggle-password"
                [ngClass]="show.confirm ? 'fa-eye' : 'fa-eye-slash'"
                (click)="togglePassword('confirm')"
              ></span>
              <div class="text-danger">
                @if (isRequiredError('password_confirmation')) {
                  <span>{{ 'register.password.confirmRequired' | translate }}</span>
                } @else if (ispasswordMismatch()) {
                  <span>{{ 'register.password.mismatch' | translate }}</span>
                }
              </div>
            </div>
          </div>

          <!-- ─── TERMS & CONDITIONS ────────────────────────────────────────────── -->
          <div class="form-login authentication-check">
            <div class="row">
              <div class="col-sm-8">
                <div class="custom-control custom-checkbox custom-class-check justify-content-start">
                  <label class="checkboxs ps-4 mb-0 pb-0 line-height-1">
                    <input
                      type="checkbox"
                      formControlName="terms"
                      [class.is-invalid]="invalid('terms')"
                      [class.is-valid]="valid('terms')"
                    />
                    <span class="checkmarks"></span>
                    <ng-container>{{ 'register.terms.label' | translate }}</ng-container>
                    <a href="javascript:void(0);" class="hover-a">
                      {{ 'register.terms.privacy' | translate }}
                    </a>
                  </label>
                </div>
              </div>
            </div>
            <div class="text-danger">
              @if (invalid('terms')) {
                <span>{{ 'register.terms.required' | translate }}</span>
              }
            </div>
          </div>

          <!-- ─── SUBMIT BUTTON ─────────────────────────────────────────────────── -->
          <div class="form-login">
            <button type="submit" class="btn btn-login w-100" [disabled]="registerForm.pending">
              <span *ngIf="!registerForm.pending">{{ 'register.submit' | translate }}</span>
              <span *ngIf="registerForm.pending" class="spinner-border spinner-border-sm"></span>
            </button>
          </div>

          <!-- ─── SIGN-IN LINK ──────────────────────────────────────────────────── -->
          <div class="signinform">
            <h4>
              <ng-container>{{ 'register.alreadyHaveAccount' | translate }}</ng-container>
              <a [routerLink]="routes.signIn" class="hover-a">
                {{ 'register.loginInstead' | translate }}
              </a>
            </h4>
          </div>

          <!-- ─── OR SEPARATOR ──────────────────────────────────────────────────── -->
          <div class="form-setlogin or-text">
            <h4>{{ 'register.or' | translate }}</h4>
          </div>

          <!-- ─── SOCIAL LINKS (static icons) ───────────────────────────────────── -->
          <div class="form-sociallink">
            <ul class="d-flex">
              <li>
                <a href="javascript:void(0);" class="facebook-logo">
                  <img src="assets/img/icons/facebook-logo.svg" alt="Facebook" />
                </a>
              </li>
              <li>
                <a href="javascript:void(0);">
                  <img src="assets/img/icons/google.png" alt="Google" />
                </a>
              </li>
              <li>
                <a href="javascript:void(0);" class="apple-logo">
                  <img src="assets/img/icons/apple-logo.svg" alt="Apple" />
                </a>
              </li>
            </ul>
          </div>

          <!-- ─── COPYRIGHT ─────────────────────────────────────────────────────── -->
          <div class="my-4 d-flex justify-content-center align-items-center copyright-text">
            <p>
              {{ 'copyright' | translate : { currentYear: currentYear } }}
            </p>
          </div>

        </div>
      </form>
    </div>
  </div>
</div>
